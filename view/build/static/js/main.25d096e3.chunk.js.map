{"version":3,"sources":["config/axios.js","context/auth/AuthContext.js","context/MoviesContext.js","config/token.js","context/auth/AuthReducer.js","types/index.js","context/auth/AuthState.js","componentes/MainHeader.js","componentes/Login.js","componentes/SignUp.js","componentes/Header.js","componentes/SearchForm.js","componentes/Movie.js","componentes/MoviesList.js","componentes/LayoutHome.js","componentes/routes/PrivateRoute.js","componentes/FavMoviesList.js","componentes/LayoutSaved.js","App.js","serviceWorker.js","index.js"],"names":["axiosClient","axios","create","baseURL","process","authContext","createContext","MoviesContext","MoviesProvider","props","useContext","AuthContext","user","autenticated","useState","spinner","setSpinner","spinnerFav","setSpinnerFav","userMovies","saveUserMovies","movies","saveMovies","title","type","search","searchMovies","searchMade","saveSearch","_id","useEffect","url","a","get","params","id","result","favMovies","data","results","i","length","res","push","setTimeout","console","log","getUserMovies","moviesArray","resultsData","Search","imdbID","getMovies","Provider","value","children","tokenAuth","token","defaults","headers","common","state","action","localStorage","setItem","payload","message","removeItem","AuthState","initialState","getItem","useReducer","AuthReducer","dispatch","createUser","post","response","autenticatedUser","alert","msg","cat","login","logout","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","image","width","height","borderRadius","MainHeader","classes","AppBar","position","Toolbar","IconButton","edge","className","color","aria-label","href","src","alt","Typography","variant","Button","paper","marginTop","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","submit","Login","history","email","password","saveUser","onChange","e","target","name","Container","component","maxWidth","CssBaseline","align","Avatar","validate","onSubmit","preventDefault","TextField","required","fullWidth","label","autoComplete","autoFocus","FormControlLabel","control","Checkbox","Alert","severity","Grid","container","item","Link","SignUp","confirm","error","Header","onClick","Formulario","setSearch","placeholder","select","MenuItem","media","paddingTop","expand","transform","marginLeft","transition","transitions","duration","shortest","expandOpen","deepOrange","Movie","movie","Type","Year","Title","Poster","fav","map","includes","favorite","setFavorite","saveMovie","put","deleteMovie","delete","xs","Card","CardHeader","subheader","CardMedia","CardContent","Plot","Genre","Runtime","totalSeasons","Website","CardActions","disableSpacing","MoviesList","key","CircularProgress","LayoutHome","SearchForm","PrivateRoute","Component","render","to","FavMoviesList","movieContext","LayoutSaved","createMuiTheme","primary","light","App","ThemeProvider","exact","path","Boolean","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.25d096e3.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst axiosClient = axios.create({\r\n    baseURL : process.env.REACT_APP_BACKEND_URL\r\n});\r\n\r\nexport default axiosClient;","import { createContext } from 'react';\r\n\r\nconst authContext = createContext();\r\n\r\nexport default authContext;","import React, { createContext, useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport axiosClient from '../config/axios';\r\nimport AuthContext from './auth/AuthContext';\r\n\r\nexport const MoviesContext = createContext();\r\n\r\nconst MoviesProvider = (props) => {\r\n\r\n    const authContext = useContext(AuthContext);\r\n    const { user, autenticated } = authContext;\r\n    const [spinner, setSpinner ] = useState(null);\r\n    const [spinnerFav, setSpinnerFav ] = useState(null);\r\n\r\n    const [userMovies, saveUserMovies] = useState([]);\r\n    const [movies, saveMovies] = useState([]);\r\n    const [search, searchMovies] = useState({\r\n        title: '',\r\n        type: ''\r\n    });\r\n    const [ searchMade, saveSearch] = useState(false);\r\n\r\n    const { title, type} = search;\r\n    if(user)\r\n    var { _id } = user;\r\n    useEffect(() => {\r\n        if(autenticated && user){\r\n            const getUserMovies = async () => {\r\n                setSpinnerFav(true);\r\n                try {\r\n                    const result = await axiosClient.get('/api/users', { params: {\r\n                        id: _id\r\n                      }});\r\n                      let favMovies = result.data.favMovies;\r\n                      let res, results = [];\r\n                      for (var i = 0 ; i < favMovies.length ; i++){\r\n                        url = `https://www.omdbapi.com/?apikey=a2c11b79&i=${favMovies[i]}`;\r\n                        res = await axios.get(url);\r\n                        results.push(res.data);\r\n                    }\r\n                    setTimeout(() => {\r\n                        saveUserMovies(results);\r\n    \r\n                        // delete spinner\r\n                        setSpinnerFav(false);\r\n                    }, 3000);\r\n                }\r\n                catch (error){\r\n                    console.log(error);\r\n                }\r\n              \r\n            }\r\n            getUserMovies();\r\n        }\r\n        if(searchMade) {\r\n            var url;\r\n\r\n            const getMovies = async () => {\r\n                setSpinner(true);\r\n\r\n                if(type === 'All'){\r\n                    url = `https://www.omdbapi.com/?apikey=a2c11b79&s=${title}`;\r\n                }\r\n                else{\r\n                    url = `https://www.omdbapi.com/?apikey=a2c11b79&s=${title}&type=${type}`;\r\n                }\r\n\r\n                const results = await axios.get(url);\r\n                var moviesArray = [];\r\n                var resultsData = results.data.Search;\r\n                for (var i = 0 ; i < resultsData.length ; i++){\r\n                    url = `https://www.omdbapi.com/?apikey=a2c11b79&i=${resultsData[i].imdbID}`;\r\n                    let res = await axios.get(url);\r\n                    moviesArray.push(res.data);\r\n                }\r\n                \r\n                setTimeout(() => {\r\n                    saveMovies(moviesArray);\r\n\r\n                    // delete spinner\r\n                    setSpinner(false);\r\n                }, 3000);\r\n\r\n            }\r\n           getMovies();\r\n        }\r\n\r\n    }, [search, user]);\r\n\r\n    return ( \r\n        <MoviesContext.Provider\r\n            value={{\r\n                movies,\r\n                userMovies,\r\n                spinner,\r\n                spinnerFav,\r\n                searchMovies, \r\n                saveMovies,\r\n                saveSearch,\r\n                saveUserMovies\r\n            }}\r\n        >\r\n            {props.children}\r\n        </MoviesContext.Provider>\r\n     );\r\n}\r\n \r\nexport default MoviesProvider;","import axiosClient from './axios';\r\n\r\nconst tokenAuth = token => {\r\n    if(token) {\r\n        axiosClient.defaults.headers.common['x-auth-token'] = token;\r\n    } else {\r\n        delete axiosClient.defaults.headers.common['x-auth-token'];\r\n    }\r\n}\r\n\r\nexport default tokenAuth;","import { \r\n    REGISTERED,\r\n    REGISTER_ERROR,\r\n    GET_USER,\r\n    LOGIN_OK,\r\n    LOGIN_ERROR,\r\n    LOG_OUT\r\n} from '../../types';\r\n\r\nexport default (state, action) => {\r\n    switch(action.type) {\r\n        case REGISTERED:\r\n        case LOGIN_OK:\r\n            localStorage.setItem('token', action.payload.token);\r\n            return {\r\n                ...state,\r\n                autenticated: true,\r\n                message: null,\r\n                spinner: false\r\n            }\r\n        case GET_USER: \r\n            return {\r\n                ...state,\r\n                autenticated: true,\r\n                user: action.payload, \r\n                spinner: false\r\n            }\r\n        case LOG_OUT:\r\n        case LOGIN_ERROR:\r\n        case REGISTER_ERROR:\r\n            localStorage.removeItem('token');\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                user: null,\r\n                autenticated: false,\r\n                message: action.payload, \r\n                spinner: false\r\n            }\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}","export const REGISTERED = 'REGISTERED';\r\nexport const REGISTER_ERROR = 'REGISTER_ERROR';\r\nexport const GET_USER = 'GET_USER';\r\nexport const LOGIN_OK = 'LOGIN_OK';\r\nexport const LOGIN_ERROR = 'LOGIN_ERROR';\r\nexport const LOG_OUT = 'LOG_OUT';","import React, { useReducer } from \"react\";\r\nimport AuthContext from \"./AuthContext\";\r\nimport AuthReducer from \"./AuthReducer\";\r\nimport axiosClient from \"../../config/axios\";\r\nimport tokenAuth from \"../../config/token\";\r\n\r\nimport {\r\n  REGISTERED,\r\n  REGISTER_ERROR,\r\n  GET_USER,\r\n  LOGIN_OK,\r\n  LOGIN_ERROR,\r\n  LOG_OUT,\r\n} from \"../../types\";\r\n\r\nconst AuthState = (props) => {\r\n  const initialState = {\r\n    token: localStorage.getItem(\"token\"),\r\n    autenticated: null,\r\n    user: null,\r\n    message: null,\r\n    spinner: true,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(AuthReducer, initialState);\r\n  const createUser = async (data) => {\r\n    try {\r\n      const response = await axiosClient.post(\"/api/users\", data);\r\n\r\n      dispatch({\r\n        type: REGISTERED,\r\n        payload: response.data,\r\n      });\r\n\r\n      // get user\r\n      autenticatedUser();\r\n    } catch (error) {\r\n      // console.log(error.response.data.msg);\r\n      const alert = {\r\n        msg: error.response.data.msg,\r\n        cat: \"alert\",\r\n      };\r\n\r\n      dispatch({\r\n        type: REGISTER_ERROR,\r\n        payload: alert,\r\n      });\r\n    }\r\n  };\r\n\r\n  // get autenticated user\r\n  const autenticatedUser = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      tokenAuth(token);\r\n    }\r\n\r\n    try {\r\n      const response = await axiosClient.get(\"/api/auth\");\r\n      // console.log(respuesta);\r\n      dispatch({\r\n        type: GET_USER,\r\n        payload: response.data.user,\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: LOGIN_ERROR,\r\n      });\r\n    }\r\n  };\r\n\r\n  // login\r\n  const login = async (data) => {\r\n    try {\r\n      const response = await axiosClient.post(\"/api/auth\", data);\r\n\r\n      dispatch({\r\n        type: LOGIN_OK,\r\n        payload: response.data,\r\n      });\r\n\r\n      // get user\r\n      autenticatedUser();\r\n    } catch (error) {\r\n      const alert = {\r\n        msg: error.response.data.msg,\r\n        cat: \"alert\",\r\n      };\r\n\r\n      dispatch({\r\n        type: LOGIN_ERROR,\r\n        payload: alert,\r\n      });\r\n    }\r\n  };\r\n\r\n  // logout \r\n  const logout = () => {\r\n    dispatch({\r\n      type: LOG_OUT,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        token: state.token,\r\n        autenticated: state.autenticated,\r\n        user: state.user,\r\n        message: state.message,\r\n        spinner: state.spinner,\r\n        createUser,\r\n        login,\r\n        autenticatedUser,\r\n        logout,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\nexport default AuthState;\r\n","import React from \"react\";\r\nimport {\r\n  AppBar,\r\n  IconButton,\r\n  Toolbar,\r\n  Button,\r\n  Typography,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  image: {\r\n    width: 95,\r\n    height: 70,\r\n    borderRadius: 25,\r\n  },\r\n}));\r\n\r\nconst MainHeader = () => {\r\n  const classes = useStyles();\r\n\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar>\r\n        <IconButton\r\n          edge=\"start\"\r\n          className={classes.menuButton}\r\n          color=\"inherit\"\r\n          aria-label=\"menu\"\r\n          href=\"/\"\r\n        >\r\n          {<img src=\"/logo.png\" className={classes.image} alt=\"logo\"/>}\r\n        </IconButton>\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          Movies and TV shows\r\n        </Typography>\r\n\r\n          <Button color=\"inherit\" href=\"/signup\">\r\n            SIGN UP\r\n          </Button>\r\n  \r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default MainHeader;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { Link, makeStyles, Container, Checkbox, Grid, Typography, Button, FormControlLabel, TextField, CssBaseline, Avatar } from '@material-ui/core';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport AuthContext from '../context/auth/AuthContext';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport MainHeader from './MainHeader';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  }));\r\n\r\nconst Login = (props) => {\r\nconst classes= useStyles();\r\n\r\n    const authContext = useContext(AuthContext);\r\n    const { message, autenticated, login, spinner } = authContext;\r\n    \r\n      // if password or user doesn't exist\r\n      useEffect(() => {\r\n        if(autenticated && !spinner) {\r\n            props.history.push('/home');\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [message, autenticated, props.history]);\r\n\r\n    // State for login\r\n    const [user, saveUser] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    // destructuring\r\n    const { email, password } = user;\r\n\r\n    const onChange = e => {\r\n        saveUser({\r\n            ...user,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    // when login\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        // send to action\r\n        login({ email, password });\r\n    }\r\n\r\n    return(\r\n  <>\r\n  <MainHeader />\r\n<Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <Typography component=\"h1\" variant=\"h5\" align=\"center\">\r\n                  Search for your favorite movies and TV shows\r\n                </Typography>\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form \r\n        className={classes.form} \r\n        validate=\"true\"\r\n        onSubmit={onSubmit}\r\n        >\r\n  \r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            onChange={onChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            onChange={onChange}\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n              { message ? <Alert severity=\"error\" >{message.msg}</Alert> : null }\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            {/* <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid> */}\r\n            <Grid item>\r\n              <Link href=\"/signup\" variant=\"body2\">\r\n                Don't have an account? Sign Up\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n    </>\r\n    );\r\n}\r\nexport default Login;","import React, { useState, useContext, useEffect } from \"react\";\r\nimport {\r\n  Link,\r\n  makeStyles,\r\n  Container,\r\n  Checkbox,\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  FormControlLabel,\r\n  TextField,\r\n  CssBaseline,\r\n  Avatar,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport AuthContext from \"../context/auth/AuthContext\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport MainHeader from \"./MainHeader\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst SignUp = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const { message, autenticated, createUser, spinner } = authContext;\r\n\r\n  useEffect(() => {\r\n    if (autenticated && !spinner) {\r\n      props.history.push(\"/home\");\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [message, autenticated, props.history]);\r\n\r\n  // state to sign up\r\n  const [user, saveUser] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirm: \"\",\r\n    error: \"\"\r\n  });\r\n\r\n  // extract from user\r\n  const { name, email, password, confirm, error } = user;\r\n\r\n  const onChange = (e) => {\r\n    saveUser({\r\n      ...user,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  // when login\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if(password !== confirm){\r\n        saveUser({\r\n          ...user,\r\n          error: \"There is an error, passwords must be = \"\r\n        })\r\n        return;\r\n    }\r\n    // to action\r\n    createUser({ name, email, password });\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <MainHeader />\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} validate=\"true\" onSubmit={onSubmit}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"name\"\r\n            label=\"Name\"\r\n            name=\"name\"\r\n            autoComplete=\"name\"\r\n            autoFocus\r\n            onChange={onChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            onChange={onChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            onChange={onChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"confirm\"\r\n            label=\"Repeat Password\"\r\n            type=\"password\"\r\n            id=\"confirm\"\r\n            onChange={onChange}\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n                    {message? <Alert severity=\"error\">{message.msg}</Alert> : null}\r\n\r\n          {error ? <Alert severity=\"error\">{error}</Alert> : null}\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <Link href=\"/\" variant=\"body2\">\r\n                {\"Do you already have an account? Sign In\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n    </>\r\n  );\r\n};\r\nexport default SignUp;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  AppBar,\r\n  IconButton,\r\n  Toolbar,\r\n  Button,\r\n  Typography,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport AuthContext from \"../context/auth/AuthContext\";\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    ['@media (max-width:780px)']: { // eslint-disable-line no-useless-computed-key\r\n      display: 'none'\r\n    }\r\n  },\r\n  image: {\r\n    width: 95,\r\n    height: 70,\r\n    borderRadius: 25,\r\n  },\r\n}));\r\n\r\nconst Header = () => {\r\n  const classes = useStyles();\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const { logout } = authContext;\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar>\r\n        <IconButton\r\n          edge=\"start\"\r\n          className={classes.menuButton}\r\n          color=\"inherit\"\r\n          aria-label=\"menu\"\r\n          href=\"/home\"\r\n        >\r\n          {<img src=\"/logo.png\" className={classes.image} alt=\"logo\"/>}\r\n        </IconButton>\r\n        \r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          Movies and TV shows\r\n        </Typography>\r\n        <IconButton aria-label=\"favorites\" href=\"/saved\">\r\n        <FavoriteIcon color=\"secondary\" />\r\n        </IconButton>\r\n          <Button color=\"inherit\" onClick={ () => logout()}>\r\n            LOG OUT\r\n          </Button>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { MoviesContext } from \"../context/MoviesContext\";\r\nimport {\r\n  TextField,\r\n  makeStyles,\r\n  MenuItem,\r\n  Button,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(2),\r\n      width: \"25ch\"\r\n    },\r\n    ['@media (max-width:780px)']: { // eslint-disable-line no-useless-computed-key\r\n      flexDirection: \"column\"\r\n    }\r\n  ,\r\n    margin: \"2rem\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\"\r\n  },\r\n}));\r\n\r\nconst Formulario = () => {\r\n  const [search, setSearch] = useState({\r\n    title: \"\",\r\n    type: \"\",\r\n  });\r\n\r\n  const { searchMovies, saveSearch } = useContext(MoviesContext);\r\n\r\n  // funciÃ³n para leer los contenidos\r\n  const getMovies = (e) => {\r\n    setSearch({\r\n      ...search,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <form\r\n      className={classes.root}\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n        searchMovies(search);\r\n        saveSearch(true);\r\n      }}\r\n    >\r\n      <TextField\r\n        name=\"title\"\r\n        type=\"text\"\r\n        label=\"Title\"\r\n        placeholder=\"Search by title\"\r\n        onChange={getMovies}\r\n        required\r\n      />\r\n\r\n      <TextField\r\n        name=\"type\"\r\n        label=\"Type\"\r\n        select\r\n        onChange={getMovies}\r\n        required\r\n        value=\"All\"\r\n      >\r\n        <MenuItem value=\"All\">-- All--</MenuItem>\r\n        <MenuItem value=\"movie\">Movies</MenuItem>\r\n        <MenuItem value=\"series\">TV Shows</MenuItem>\r\n      </TextField>\r\n\r\n      <Button variant=\"contained\" color=\"secondary\" type=\"submit\">\r\n        Search\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Formulario;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { deepOrange } from \"@material-ui/core/colors\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport { MoviesContext } from \"../context/MoviesContext\";\r\nimport AuthContext from \"../context/auth/AuthContext\";\r\n\r\nimport axiosClient from \"../config/axios\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 345,\r\n    margin: \"auto\",\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: \"120.25%\", // 16:9\r\n  },\r\n  expand: {\r\n    transform: \"rotate(0deg)\",\r\n    marginLeft: \"auto\",\r\n    transition: theme.transitions.create(\"transform\", {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  avatar: {\r\n    backgroundColor: deepOrange[500],\r\n    ['@media (max-width:780px)']: { // eslint-disable-line no-useless-computed-key\r\n      display: 'none'\r\n    }\r\n  },\r\n}));\r\n\r\nconst Movie = ({ movie }) => {\r\n  const { Type, Year, Title, Poster, imdbID } = movie;\r\n  const movieContext = useContext(MoviesContext);\r\n  const { userMovies } = movieContext;\r\n  const authContext = useContext(AuthContext);\r\n  const { user } = authContext;\r\n  if (user) var { _id } = user;\r\n  const classes = useStyles();\r\n  const userMoviesID = userMovies.map(({ imdbID }) => imdbID);\r\n  let fav = userMoviesID.includes(imdbID);\r\n  const [favorite, setFavorite] = useState(fav);\r\n\r\n  let saveMovie = async (imdbID) => {\r\n    try {\r\n       await axiosClient.put(\"/api/users\", {\r\n        id: _id,\r\n        imdbID: imdbID,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n let deleteMovie = async (imdbID) => {\r\n    try {\r\n      await axiosClient.delete(`/api/users/${_id}`, {\r\n        params: { imdbID },\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <Grid item xs={4}>\r\n      <Card className={classes.root}>\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar aria-label=\"movie\" className={classes.avatar}>\r\n              {Type === \"movie\" ? <p>M</p> : <p>TV</p>}\r\n            </Avatar>\r\n          }\r\n          title={Title}\r\n          subheader={Year}\r\n        />\r\n        <CardMedia className={classes.media} image={Poster} title={Title} />\r\n\r\n        <CardContent>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"div\">\r\n            {movie.Plot ? <p>{movie.Plot}</p> : null}\r\n            {movie.Genre ? (\r\n              <p>\r\n                <span>Genre: </span> {movie.Genre} <br />\r\n              </p>\r\n            ) : null}\r\n            {movie.Runtime ? (\r\n              <p>\r\n                <span>Duration: </span> {movie.Runtime} <br />\r\n              </p>\r\n            ) : null}\r\n            {movie.totalSeasons ? (\r\n              <p>\r\n                {\" \"}\r\n                <span>Seasons: </span> {movie.totalSeasons} <br />\r\n              </p>\r\n            ) : null}\r\n            {movie.Website ? (\r\n              <p>\r\n                <span>Where to watch? </span>\r\n                {movie.Website}{\" \"}\r\n              </p>\r\n            ) : null}\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions disableSpacing>\r\n          <IconButton\r\n            aria-label=\"add to favorites\"\r\n            onClick={() => {\r\n              if (favorite)\r\n              deleteMovie(imdbID)\r\n              else\r\n              saveMovie(imdbID)\r\n              setFavorite(!favorite)\r\n            }}\r\n          >\r\n            <FavoriteIcon color={favorite ? \"secondary\" : \"primary\"} />\r\n          </IconButton>\r\n        </CardActions>\r\n      </Card>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Movie;\r\n","import React, { useContext }  from 'react';\r\nimport { MoviesContext } from '../context/MoviesContext';\r\nimport { Grid, CircularProgress} from '@material-ui/core';\r\nimport Movie from './Movie';\r\n\r\nconst MoviesList = () => {\r\n    const { movies, spinner} = useContext(MoviesContext);\r\n    if(movies && !spinner){\r\n    return ( \r\n        <Grid container spacing={3}>\r\n            {movies.map( movie => (\r\n                    <Movie \r\n                    movie = {movie}\r\n                    key = {movie.imdbID}\r\n                    />\r\n            ))}   \r\n        </Grid>\r\n     );\r\n    }\r\n    return (\r\n        <>\r\n        { spinner ? <CircularProgress color=\"secondary\"/> :\r\n        <h1> We couldn't find what you were looking for</h1> }\r\n        </>\r\n    )\r\n}\r\n \r\nexport default MoviesList;","import React from 'react'\r\nimport Header from './Header'\r\nimport SearchForm from './SearchForm'\r\nimport MoviesList from './MoviesList'\r\n\r\nconst LayoutHome = (props) => {\r\nreturn(\r\n    <div className=\"App\">\r\n     <Header props={props}/>\r\n     <div>\r\n     <SearchForm />\r\n     </div>\r\n     <MoviesList/>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default LayoutHome;","import React, { useContext, useEffect } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport AuthContext from '../../context/auth/AuthContext';\r\n\r\nconst PrivateRoute= ({ component: Component, ...props  }) => {\r\n\r\n    const authContext = useContext(AuthContext);\r\n    const { autenticated, spinner, autenticatedUser } = authContext;\r\n    useEffect(() => {\r\n        autenticatedUser();\r\n        // eslint-disable-next-line\r\n    }, []);\r\n    return ( \r\n        <Route { ...props } render={ props => !autenticated && !spinner ?  (\r\n            <Redirect to=\"/\" />\r\n        )  : (\r\n            <Component {...props} />\r\n        ) } />\r\n\r\n     );\r\n}\r\n \r\nexport default PrivateRoute;","import React, { useContext } from \"react\";\r\nimport { MoviesContext } from \"../context/MoviesContext\";\r\nimport { Grid, CircularProgress } from \"@material-ui/core\";\r\nimport Movie from \"./Movie\";\r\n\r\nconst FavMoviesList = () => {\r\n  const movieContext = useContext(MoviesContext);\r\n  const { userMovies, spinnerFav } = movieContext;\r\n\r\n  if (userMovies.length > 0 && !spinnerFav) {\r\n    return (\r\n      <>\r\n        <h1> Saved movies </h1>\r\n        <Grid container spacing={3}>\r\n          {userMovies.map((movie) => (\r\n            <Movie movie={movie} key={movie.imdbID} />\r\n          ))}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n  return(\r\n  <>\r\n    {spinnerFav ? (\r\n      <CircularProgress color=\"secondary\" />\r\n    ) : (\r\n      <h1> You haven't saved movies yet</h1>\r\n    )}\r\n  </>\r\n  )\r\n};\r\n\r\nexport default FavMoviesList;\r\n","import React from 'react'\r\nimport Header from './Header'\r\nimport FavMoviesList from './FavMoviesList'\r\n\r\nconst LayoutSaved = (props) => {\r\nreturn(\r\n    <div className=\"App\">\r\n     <Header props={props}/>\r\n       <FavMoviesList />\r\n    </div>\r\n)\r\n}\r\n\r\nexport default LayoutSaved;","import React from \"react\";\r\nimport \"./App.css\";\r\nimport MoviesProvider from \"./context/MoviesContext\";\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport tokenAuth from \"./config/token\";\r\nimport AuthState from \"./context/auth/AuthState\";\r\nimport Login from \"./componentes/Login\";\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport SignUp from \"./componentes/SignUp\";\r\nimport LayoutHome from \"./componentes/LayoutHome\";\r\nimport PrivateRoute from \"./componentes/routes/PrivateRoute\";\r\nimport LayoutSaved from \"./componentes/LayoutSaved\";\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#212121\",\r\n    },\r\n    secondary: {\r\n      light: \"#757ce8\",\r\n      main: \"#ff5722\",\r\n    },\r\n  },\r\n});\r\n\r\n// check if there is a token\r\nconst token = localStorage.getItem(\"token\");\r\nif (token) {\r\n  tokenAuth(token);\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <AuthState>\r\n        <MoviesProvider>\r\n          <Router>\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Login} />\r\n              <Route exact path=\"/signup\" component={SignUp} />\r\n              <PrivateRoute exact path=\"/home\" component={LayoutHome} />\r\n              <PrivateRoute exact path=\"/saved\" component={LayoutSaved} />\r\n            </Switch>\r\n          </Router>\r\n        </MoviesProvider>\r\n      </AuthState>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}